{% extends 'base.html' %}


{% block content %}


<div id="background"></div>





<div class="container" style="background-color:rgba(10, 10, 10, 0.678); margin-top: 5%; color: white; max-width: 70%;">
    

    <!-- Display 'SAVE RECIPE' button if not in db -->
    {% if new %}
        <div style="display: inline-block; position: absolute; margin-left: 45%; margin-top: 2%;">
            <div style="display: inline-block; position: relative;">
                <form action="{{ url_for('save_recipe') }}" method="post">
                    <input type="hidden" name="name" value="{{ recipe.name }}"/>
                    <input type="hidden" name="time" value="{{ recipe.time }}"/>
                    <input type="hidden" name="ingredients" value="{{ recipe.ingredients }}"/>
                    <input type="hidden" name="instructions" value="{{ recipe.instructions }}"/>
                    <input type="submit" class="button5" value="Save Recipe"/>
                </form>
            </div>
            
            <div style="display: inline-block; position: relative;">
                <form>
                    <a href="/full-calendar"><input class="button5" type="button" name="button5" value="Calendar"/></a>
                </form>
            </div>
        </div>
    {% endif %}


    <!--  close modal button  -->
    {% if not button_flag and not new %}
        <div>
            <button style="color: #fff; float: right;" type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">
                    &times;
                </span>
            </button>
        </div>
    {% endif %}


    <!-- remove meal from calendar -->
    {% if recipe_date %}
        <form action="/remove-meal" method="post">
            <input type="hidden" name="dinner_to_remove" value="{{ recipe_date }}">
            <input style="color:black; margin-top: 2%;" type="submit" id="remove" value="REMOVE"/>
        </form>
    {% endif %}

    
    <h1>{{ recipe.name }}</h1>

    
    <!--  LINK to calendar and DELETE RECIPE button  -->
    {% if button_flag %}
        <div style="display: inline-block; position: absolute; margin-left: 45%; margin-top: -3%;">
            <!-- link to calendar page -->
            <div style="display: inline-block; position: relative;">
                <form style="color:black;">
                    <a href="/recipe-index"><input class="button5" type="button" name="button5" value="Cookbook"/></a>
                </form>
            </div>
    
            <!-- DELETE RECIPE from cookbook -->
            <div style="display: inline-block; position: relative;">
                <form style="color:black;" action="{{ url_for('delete_recipe') }}" method="post">
                    <input type="hidden" name="id" value="{{ recipe.id }}"/>
                    <input  style="display: inline-block; position: relative;" type="submit" class="button5" value="Delete Recipe"/>
                </form>
            </div>
        </div>
    {% endif %}
        

    <!--   recipe information    -->
    {% if recipe.time <= 60 %}
        <h3>Estimated time: <em>{{ recipe.time }} minutes</em></h3>
    {% else %}
        {% set recipe_hour = recipe.time//60 %}
        {% set recipe_mins = recipe.time%60 %}
        {% if not recipe_mins %}
            <h3>Estimated time: <em>{{ recipe_hour }} hours</em></h3>
        {% else %}
            <h3>Estimated time: <em>{{ recipe_hour }} hours : {{ recipe_mins }} minutes</em></h3>
        {% endif %}
    {% endif %}


    <h3>Ingredients:</h3>
    {% for ingredient in ingredients %}
    <ul>
        
        <li>{{ ingredient }}</li>
    
    </ul>
    {% endfor %}
    <h3>Instructions:</h3>
    <h3>{{ recipe.instructions }}</h3>

</div>


{% endblock %}