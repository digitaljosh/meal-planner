{% extends 'base.html' %}

{% block content %}
<div class="container">

    <div class="button-wrapper">
        <a href="/full-calendar"><input class="button5" type="button" name="button5" value="Calendar"/></a>
    </div>
    <div class="form-wrap">
        <div class="form-inner">
            <p style="text-align: center;" id="login-title">Search Recipes</p>
        
            <form action="/search" method="post" class="form-horizontal" name="search">
                <div class="form-group col-sm-10">
                    <div style="margin-left: auto; margin-right: auto;" >
                        <input type="text" class="form-control" name="search">
                    </div>
                </div>
                <input style="margin-left: 5%; margin-right: auto; margin-top: 1%;" type="submit" value="Search">
            </form>
        </div>
        <div>
            <p style="text-align: center; margin: 10px 10px 10px 10px; padding-bottom: 15px; font-weight: 700;"><a style="color: rgb(182, 154, 218);" href="/full-calendar">Calendar</a></p>
        </div>
    </div> 


    <!-- Display recipe titles and pictures -->
    {% if recipe_list %}
        <div class="container" style="background-color:rgba(10, 10, 10, 0.678); margin-top: 5%; color: white; max-width: 70%;">
            <ul>
                {% for result in recipe_list['results'] %}
                    <h3 style="text-align: center;">{{ result['title'] }}</h3>
                    <h4 style="text-align: center;"><a href="/instructions?id={{ result['id'] }}">Recipe Instructions</a></h4>
                    <img style="max-width: 65%; width: 65%; display: block; margin-left: auto; margin-right: auto;" src="https://spoonacular.com/recipeImages/{{ result['imageUrls'][0] }}"/>
                    </br>                
                    </br>
                    </br>
                    </br>
                {% endfor %}
            </ul>
        </div>
    {% endif %}

    <div>
        
        {% if recipe_instructions %}
            <h3>{{ recipe_instructions.get('title') }}</h3>
            <img src="{{ recipe_instructions.get('image') }}"/>
            </br>
            <h4>Ingredients:</h4>
            <ul>
                {% for i in range(recipe_instructions['extendedIngredients']|length) %}
                    <li>{{ recipe_instructions['extendedIngredients'][i]['originalString'] }}</li>
                {% endfor %}
            </ul>
            </br>
            <h4>Recipe Instructions:</h4>
            <p>{{ recipe_instructions.get('instructions') }}</p>
        {% endif %}
                

    </div>
</div>

{% endblock %}